(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{6468:(e,t,r)=>{Promise.resolve().then(r.bind(r,9363))},9363:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var a=r(5155),n=r(9137),s=r.n(n);function i(e){let{data:t,scale:r=2}=e,n={width:"".concat(91*r,"mm"),height:"".concat(55*r,"mm"),transform:1!==r?"scale(".concat(r,")"):void 0,transformOrigin:"center center"};return t.htmlContent&&t.htmlContent.trim()?(0,a.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg shadow-lg p-6",style:n,id:"business-card",dangerouslySetInnerHTML:{__html:t.htmlContent}}):(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg shadow-lg p-6 flex flex-col justify-between",style:n,id:"business-card",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:t.name}),t.title&&(0,a.jsx)("p",{className:"text-lg text-gray-600 font-medium",children:t.title})]}),t.description&&(0,a.jsx)("div",{className:"flex-1 flex items-center",children:(0,a.jsx)("p",{className:"text-sm text-gray-700 text-center w-full",children:t.description})}),t.contacts.length>0&&(0,a.jsx)("div",{className:"space-y-1",children:t.contacts.map((e,t)=>(0,a.jsx)("p",{className:"text-xs text-gray-600",children:e},t))})]})}var d=r(2115),l=r(4624),c=r(2085),o=r(2596),m=r(9688);let h=(0,c.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),x=d.forwardRef((e,t)=>{let{className:r,variant:n,size:s,asChild:i=!1,...d}=e,c=i?l.DX:"button";return(0,a.jsx)(c,{className:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,m.QP)((0,o.$)(t))}(h({variant:n,size:s,className:r})),ref:t,...d})});x.displayName="Button";var g=r(5599);function u(){let[e,t]=(0,d.useState)(null),[r,n]=(0,d.useState)(!0),[l,c]=(0,d.useState)(null),o=()=>{fetch("/api/card-data").then(e=>e.json()).then(e=>{e.error?c(e.error):(t(e),c(null))}).catch(()=>{c("Failed to load card data")}).finally(()=>{n(!1)})};return((0,d.useEffect)(()=>{o();let e=new EventSource("/api/reload");return e.onmessage=e=>{"reload"===JSON.parse(e.data).type&&(console.log("Markdown file changed, reloading..."),o())},e.onerror=e=>{console.error("SSE connection error:",e)},()=>{e.close()}},[]),r)?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsx)("p",{className:"text-gray-500",children:"Loading..."})}):l?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsx)("p",{className:"text-red-500",children:l})}):e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s(),{id:"e3bd5d5a4577383a",children:"@media print{*{visibility:hidden}.print-only,.print-only *{visibility:visible}.print-only{position:absolute;left:0;top:0;width:91mm;height:55mm;margin:0;padding:0;page-break-after:avoid;page-break-inside:avoid}body{margin:0;padding:0;background:white!important}@page{size:91mm 55mm;margin:0}}"}),(0,a.jsxs)("div",{className:"jsx-e3bd5d5a4577383a min-h-screen bg-gray-50 relative",children:[(0,a.jsx)("div",{className:"jsx-e3bd5d5a4577383a absolute top-4 right-4 z-10",children:(0,a.jsxs)(x,{onClick:()=>{window.print()},className:"flex items-center gap-2",children:[(0,a.jsx)(g.A,{size:16}),"印刷・PDF出力"]})}),(0,a.jsx)("div",{className:"jsx-e3bd5d5a4577383a flex items-center justify-center min-h-screen p-8",children:(0,a.jsxs)("div",{className:"jsx-e3bd5d5a4577383a border-2 border-dashed border-gray-300 p-8 rounded-lg bg-white",children:[(0,a.jsx)("p",{className:"jsx-e3bd5d5a4577383a text-xs text-gray-500 mb-4 text-center",children:"実際のサイズ (91mm \xd7 55mm)"}),(0,a.jsx)("div",{className:"jsx-e3bd5d5a4577383a print-only hidden print:block",children:(0,a.jsx)(i,{data:e,scale:1})}),(0,a.jsx)("div",{className:"jsx-e3bd5d5a4577383a print:hidden",children:(0,a.jsx)(i,{data:e,scale:1})})]})})]})]}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsx)("p",{className:"text-gray-500",children:"No card data available"})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[163,441,684,358],()=>t(6468)),_N_E=e.O()}]);