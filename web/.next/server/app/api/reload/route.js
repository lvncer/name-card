(()=>{var e={};e.id=177,e.ids=[177],e.modules={415:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>y,routeModule:()=>p,serverHooks:()=>v,workAsyncStorage:()=>m,workUnitAsyncStorage:()=>x});var s={};r.r(s),r.d(s,{GET:()=>u,POST:()=>l});var n=r(6559),a=r(8088),o=r(7719),i=r(2190);let c=new Set,d=0;async function u(e){try{let t=new ReadableStream({start(t){c.add(t),d++,t.enqueue(`data: ${JSON.stringify({type:"connected",timestamp:Date.now()})}

`);let r=()=>{c.delete(t),d--;try{t.close()}catch(e){}};e.signal.addEventListener("abort",r,{once:!0});let s=setTimeout(r,18e5);e.signal.addEventListener("abort",()=>{clearTimeout(s)},{once:!0})}});return new Response(t,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache, no-store, must-revalidate",Connection:"keep-alive","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Cache-Control","X-Accel-Buffering":"no"}})}catch(e){return i.NextResponse.json({error:"Failed to establish SSE connection"},{status:500})}}async function l(){try{let e=`data: ${JSON.stringify({type:"reload",timestamp:Date.now()})}

`;return Promise.allSettled(Array.from(c).map(async t=>{try{t.enqueue(e)}catch(e){c.delete(t),d--}})),i.NextResponse.json({success:!0,clientCount:d,timestamp:Date.now()})}catch(e){return i.NextResponse.json({error:"Failed to send reload notification"},{status:500})}}let p=new n.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/reload/route",pathname:"/api/reload",filename:"route",bundlePath:"app/api/reload/route"},resolvedPagePath:"/Users/lvncer/GitRepos/name-card/web/src/app/api/reload/route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:m,workUnitAsyncStorage:x,serverHooks:v}=p;function y(){return(0,o.patchFetch)({workAsyncStorage:m,workUnitAsyncStorage:x})}},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6487:()=>{},8335:()=>{},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,580],()=>r(415));module.exports=s})();